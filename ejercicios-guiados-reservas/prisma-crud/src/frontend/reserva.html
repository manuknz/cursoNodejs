<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    />
    <title>Reservas</title>
  </head>
  <body>
    <h1>Reservas</h1>

    <div id="reservas-list"></div>

    <script>
      async function loadReservas() {
        const token = localStorage.getItem("token");
        const userId = localStorage.getItem("userId");
        const res = await fetch(`http://localhost:3000/api/reserva/${userId}`, {
          headers: { Authorization: `Bearer ${token}` },
        });

        if (res.ok) {
          const reservas = await res.json();
          const container = document.getElementById("reservas-list");
          console.log(reservas); // <-- Agrega esto
          container.innerHTML = reservas
            .map(
              (r) =>
                `<div class="card mb-2 p-2"><p><strong>ID Reserva:</strong> ${r.id}</p> <p><strong>Fecha:</strong> ${r.fecha}</p> <p><strong>Detalle:</strong> ${r.detalle}</p> </div> `
            )
            .join("");
        } else {
          document.getElementById("reservas-list").textContent =
            "No se pudieron cargar las reservas.";
        }
      }
      window.onload = loadReservas;
    </script>
  </body>
</html>
